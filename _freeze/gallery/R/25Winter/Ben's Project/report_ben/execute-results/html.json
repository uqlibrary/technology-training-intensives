{
  "hash": "97eecc5c9ca143fa08e1d15b07c213ef",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Report_ben\"\nformat: html\neditor: visual\ndate: Jul-2025\ncategories: [R, 25Winter, \"data: books.csv\"]\n---\n\n## The goal: To find out the worst book(in English) published in the last 20 years based on Goodreads data set.\n\n\n# Loading Dataset and library\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks <- read.csv(file = \"data/books.csv\")\n#| message: false\n#| results: false\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(plotly)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'plotly'\n\nThe following object is masked from 'package:ggplot2':\n\n    last_plot\n\nThe following object is masked from 'package:stats':\n\n    filter\n\nThe following object is masked from 'package:graphics':\n\n    layout\n```\n\n\n:::\n:::\n\n\n# Looking at the dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(books, aes(y = language_code)) + \n  geom_bar(fill = \"blue\") +\n  theme_bw()+\n  labs(title = \"Language of books in the dataset\")\n```\n\n::: {.cell-output-display}\n![](report_ben_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nWe have found that the datasets countain books from different languages.\n\n# Filter the books in English and combine them\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks_eng <- books %>% \n  mutate(Eng = language_code == \"eng\" |\n           language_code == \"en-US\" |\n           language_code == \"en-CA\" |\n           language_code == \"en-GB\") %>% \n  filter(Eng == 1)\n\nbooks_eng %>% \nggplot(aes(y = language_code)) + \n  geom_bar(fill = \"tomato\") +\n  theme_bw()+\n  labs(title = \"Plot checking filter worked\")\n```\n\n::: {.cell-output-display}\n![](report_ben_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\nBased on the website\n<https://www.goodreads.com/list/show/24328>. filter rating <3.6, at least >100 ratings count.\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks_eng_cleaned <- books_eng %>% \n  filter(average_rating < 3.6 , publication_date > 2005, ratings_count >100) \n```\n:::\n\n\n# And the Worst book in the past 20 year is...\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrating <- books_eng_cleaned %>% \n  filter(average_rating == min(average_rating))\n\nprint(paste(\"The lowest rating book is\", rating$title, \"by\", \n      rating$authors))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"The lowest rating book is Citizen Girl by Emma McLaughlin/Nicola Kraus\"\n```\n\n\n:::\n\n```{.r .cell-code}\npeople <- books_eng_cleaned %>% \n  filter(ratings_count == max(ratings_count))\n\nprint(paste(\"The book that most people hate is\", people$title, \"by\", people$authors))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"The book that most people hate is Twilight (Twilight  #1) by Stephenie Meyer\"\n```\n\n\n:::\n:::\n\n\nAnd to find out which publisher got the most amount of bad books...\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks_eng_cleaned %>% \nggplot(aes(x = publisher)) + \n  geom_bar(fill = \"cyan\") + \n  theme_linedraw()+ \n  labs(title = \"Worst publisher\")\n```\n\n::: {.cell-output-display}\n![](report_ben_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nThis graph shows that we need to filter the number of publishers\n\n\n::: {.cell}\n\n```{.r .cell-code}\npublishers <- books_eng_cleaned %>%\n  group_by(books_eng_cleaned$publisher) %>% \n  filter(n() > 5)\n  \n publishers %>% \n    ggplot(aes(y = publisher)) + \n    geom_bar(fill = \"purple\") + \n    theme_linedraw()+ \n  labs(title = \"Worst publisher filtered\")\n```\n\n::: {.cell-output-display}\n![](report_ben_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n",
    "supporting": [
      "report_ben_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}