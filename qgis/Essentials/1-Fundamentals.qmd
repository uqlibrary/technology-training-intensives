---
title: The Fundamentals
editor: source
date: today
---

## What are we going to learn?

In this workshop, we will learn about:

-   The QGIS interface
-   Loading a basemap
-   Setting up a project
-   Vector vs Raster Data
-   Identifying and selecting spatial features
-   Personalising the look of the map
-   A basic map export
-   Finding help and learning more


## Interface
  
  The main elements of the interface are:
  
-   the `Browser` panel, to navigate our file system and data sources
-   the `Layers` panel, to organise the different layers that compose our map
-   the `Canvas`, where we see the map.

## Load a Basemap

We can straight away load an OpenStreetMap basemap to have a background: in the `Browser` panel, `XYZ Tiles > OpenStreetMap`.

## Controls

The default mouse mode is `Pan Map`, which allows to drag the map around. We can use the mouse wheel to zoom in and out, and press the <kbd>Ctrl</kbd> key to use more precision.

## Project Folder Structure

We will start by creating a good folder structure to work within. This folder is where our project, our data, and creations will live. Folder structure is very important for keeping your data tidy, as well as for ease of sharing your project with others. You simply need to zip the project folder if you need to share the whole thing.

-   Open QGIS and create a **new project** with `Project > New`.

-   Let's now **save** our project: `Project > Save`.

-   Navigate to where you want to save your project, and create a new folder, let's call it "**qgis_intro**".


:::::: columns
::: {.column width="60%"}

-   Inside that folder, create these folders:
  
  -   "**data**" - for all the data we will use to make our maps, split into:
  
  -   "**raw**" - raw data from your research or the internet

-   "**processed**" - any data you've modified

    -   "**output**" - for any maps or images we export

    -   "**temp**" - this folder isn't necessary, but when you're playing around and testing, it stops things getting messy.

-   Finally, let's save our .qgz project file inside the "**qgis_intro**" folder, named "qgis_intro_map.qgz"
:::
  
  ::: {.column width="5%"}
<!-- empty column to create gap -->
  :::
  
  ::: {.column width="30%"}
![](folder.png)
:::
  
  ::: {.column width="5%"}
<!-- empty column to create gap -->
  :::
  ::::::
  
  Your .qgz file should always be in the highest level folder, so it's only looking down into folders for data, not back out. This might feel unnecessary now, but things quickly get out of control and hard to find if you don't have a good folder structure.


## What is Spatial Data?

What is spatial data? Most broadly-speaking, data is spatial when it has coordinates, and therefore a coordinate reference system (see more on this below). Coordinates define the longitude (x) and latitude (y) of where data is located across the globe.

[mapschool.io](https://mapschool.io/) is a fantastic resource for a simple explanation of many spatial concepts.

### Spatial data types

There are three broad classes of spatial data that you may encounter.

1. Vector

-   Vector data can be points, lines, or polygons. Quite typically vector data is stored as shapefiles (.shp), although there are many file formats to store vector data. My go-to is geopackages (.gpkg) (more on this later).

-   Often, vector data have multiple attributes, meaning that different variables have been measured for each vector geometry.

2. Raster

-   Raster data is gridded data, where each ‘grid cell’ (also referred to as a ‘pixel’) stores a data value. Data can be categorical (e.g. land use classes) or continuous (e.g. temperature).
-   Grids can be regular, irregular, curvilinear, etc.

3. Spatiotemporal data cubes

-   Spatiotemporal data cubes are when vector or raster data have an additional dimension beyond x & y coordinates: time.


## Data Download

The **data** for this session can be directly downloaded from [this link](https://github.com/uqlibrary/technology-training-assets/raw/master/QGIS/intro/QGIS_Intro_Data.zip).

Once downloaded, extract the archive into your **raw** folder within your **data** folder.

## Importing data

To add our own data: `Layer > Add Layer > Add Vector Layer...`, choose the "ne_50m_admin_1_states_provinces" file, and click "Add". It is now in your `Layers` panel.

You can also use the `Project Home` directory in the browser to add another layer: try loading the "populated places" and "rivers" shapefiles (format .shp), by drag-and-dropping or double-clicking.

All layers are visible in the "Layers" panel, with the most recently loaded by default at the top. Layers are rendered as they are listed, which means the top ones will cover the bottom ones. Make sure you optimise the order for your map!
  
  You can also turn the **layer visibility** on and off from this panel with the tick box.

### Learn about the data

You can open the **attribute table** to see tabular data contained in each layer. (Right-click on a layer and use "Open Attribute Table". Alternatively, use the top toolbar button or use <kbd>F6</kbd>.)

You can also use the `Identify Features` tool in the top toolbar. This allows you to learn about specific features included in the currently selected layer.

## Subset the data

We currently have data from all around the World, which you can confirm by using the `Zoom Full` button. However, we want to focus on Australia exclusively.

To remove the useless regions, we can do the following:
  
  1.  Select the "admin" layer
2.  Use the `Select Features` button, and draw a rectangle around Australia, so all the region appear in yellow
3.  Right-click on the layer and use `Export > Save Selected Features As...`
4.  Name the new file "australia_admin" in your project directory, and click OK.

The new layer is loaded to the map by default.

Now that we have we have a layer with only the administrative regions for Australia, we can use that as an overlay layer to clip the rivers. Follow these steps:
  
  1.  Select the layer you want to clip, in this case **ne_10m_rivers_lake_centerlines**
  2.  Use the `Vector > Geoprocessing Tools > Clip...` tool
3.  Use the "australia_admin" layer as the overlay.
4.  Click "Run"

> If you get an error about invalid geometries, you might have to use the `Fix geometries` tool on the Australian shapefile first (found in the Processing Toolbox).

Notice how the clipped layers don't have a descriptive name? Make sure you rename them. Let's changed **Clipped** to **australia_rivers_10m**
  
  You can now hide the original layers and confirm that you have only Australian data visible in the canvas by using the `Zoom Full` button.

> **Challenge**: can you do the same for the Cities? Do you notice anything strange? How can we fix that?
  
## Saving your project
  
It's always a good idea to regularly save your progress.

## Temporary Scratch Layers

Notice the little icon next to some of your layers? We previously created "temporary scratch layers", they're basically temp files that will disappear when we close QGIS. This is useful if you keep processing data and creating new layers that you want to discard afterwards. In our case, we do want to keep the "cities" and "rivers" layers, so we need to save them to a file. If we try to close QGIS with scratch layers loaded, it will give you a warning that they will be lost in the process.

You can click on the scratch layer icon to save the file. In the dialog, we can give the layers a `File name` (in our project's home directory) and click OK.

You can save your project with the floppy disk icon, or using <kbd>Ctrl</kbd> + <kbd>S</kbd>, and the project should be visible in a list when you re-open QGIS again.

## Personalise your map

### Change the symbology

Our vector layers are assigned a random colour when we load them. We now want to make them look better.

Double-click on the "admin" layer to open the `Layer Properties` click the ![](https://docs.qgis.org/3.40/en/_images/symbology.png) `Symbology` tab, and use `Color` to change to a better colour. Click `Apply`. We can also go into more details about the border (colour, width, type of line...) by clicking on `Simple fill`.

We can make more complex fills by adding an extra "symbol layer", and layering different kinds of fill styles. Try this with both polygons and lines. For example, style the rivers so they look like water (the `topo hydrology` preset is a good start).

Now try to change the point symbology of our "populated places" layer: we don't have to stick to `Simple marker`. Try for example the different icons available with `Symbol layer type > SVG marker` or `Font marker` selected.

> The Properties dialog is quite large and makes it difficult to see the changes in symbology. You can use the "Layer Styling Panel" (button in the Layers panel, or <kbd>F7</kbd> shortcut) to use a side panel instead, with the "Live update" option on by default.


### Add labels

Have a look at the attribute table for our "populated places" layer. What could we use to **label** our points?

Double-click on the "populated places" layer: ![](https://docs.qgis.org/3.40/en/_images/labelingSingle.png) `Labels` and then click `No Labels > Single labels`. You can also use the `Layer Labelling Options` button to open the sidebar, which allows you to "Live update" the map when you change a setting.

Choose `Value > Name` to label with the city names. In the "Text" tab, we can change the look of our labels: amend the size, the colour, the font... We can also add a text buffer with the "Buffer tab" to make them more readable.

The placement tab allows us to fine-tune the placement of the labels in reference to the points. The default mode is "Cartographic", and we can increase the distance to the symbol used. If we want the label to cover the point, we can use `Mode > Offset from point` and use the middle quadrant. We might also want to set the layer's Symbology to "No Symbols".


## Simple Map Export

You can export your map with a very customised layout, or you can do a simple export. This morning we will look at the simple map export.

Zoom to the level of detail you want your image to contain.

To export out your map `Project > Import/Export > Export Map to Image...`, choose `Draw on Canvas`, increase the `Resolution` to 300 dpi, click `Save`. Navigate to where you want to save your image, name it, and click `Save`



## Resources

* You can find help with QGIS in the [QGIS Documentation](https://docs.qgis.org/3.40/en/docs/index.html).

